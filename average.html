<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="background"></div>
  <main id="resultContainer"></main>
  <button id="homeButton" class="floating-button left">üè†</button>

  <script>
    function lockOrientation() {
      if (screen.orientation && screen.orientation.lock) {
        screen.orientation.lock('landscape').catch(console.warn);
      }
    }

    function enterFullscreen() {
      const docElm = document.documentElement;
      if (docElm.requestFullscreen) {
        docElm.requestFullscreen();
      }
    }

    window.onload = () => {
      enterFullscreen();
      lockOrientation();

      const params = new URLSearchParams(window.location.search);
      const avg = parseFloat(params.get("average"));

      const container = document.getElementById("resultContainer");
      let img = document.createElement("img");
      let text = document.createElement("p");

      img.className = "result-image";

      if (avg > 12) {
        const rand = Math.random() < 0.5;
        img.src = rand ? "1 (10).png" : "1 (2).png";
        text.textContent = rand ? "‡∏Å‡πá‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏´‡∏ô‡∏¥‡∏´‡∏ß‡πà‡∏≤ ‡∏°‡∏≤!! ‡∏ä‡∏ô‡πÅ‡∏Å‡πâ‡∏ß !!" : "‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏î‡∏µ‡∏ô‡∏µ‡πâ‡∏ô‡πà‡∏≤";
      } else {
        img.src = "1 (1).png";
        text.textContent = "‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏ô‡∏∞";
      }

      const avgText = document.createElement("h2");
      avgText.textContent = `‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: ${avg.toFixed(2)}`;

      container.appendChild(img);
      container.appendChild(avgText);
      container.appendChild(text);
    };

    document.getElementById("homeButton").onclick = () => {
      window.location.href = "index.html";
    };
  </script>
</body>
</html>
