<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏¢‡∏≠‡∏î‡∏à‡∏±‡∏î‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="background"></div>
    <div class="content-wrapper fade-slide-in">
        <main>
            <h1>üí∞ ‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏¢‡∏≠‡∏î‡∏à‡∏±‡∏î‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</h1>

            <div class="info-card">
                <h2>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô (‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì)</h2>
                <p>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ SKU ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô: <span id="targetSku">0</span></p>
                <p>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ MU ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô: <span id="targetMu">0</span></p>
            </div>

            <div class="info-card">
                <h2>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h2>
                <div class="input-group">
                    <label for="currentSku">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô SKU ‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß:</label>
                    <input type="number" id="currentSku" placeholder="‡∏Å‡∏£‡∏≠‡∏Å SKU ‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß" value="0">
                </div>
                <div class="progress-bar-container">
                    <div id="skuProgressBar" class="progress-bar">0%</div>
                </div>

                <div class="input-group" style="margin-top: 1.5em;">
                    <label for="currentMu">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô MU ‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß:</label>
                    <input type="number" id="currentMu" placeholder="‡∏Å‡∏£‡∏≠‡∏Å MU ‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß" value="0">
                </div>
                <div class="progress-bar-container">
                    <div id="muProgressBar" class="progress-bar">0%</div>
                </div>
            </div>

            <div class="buttons-group">
                <button id="clearDataButton" class="clear-button">üóëÔ∏è ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            </div>
        </main>
    </div>

    <button id="homeButton" class="floating-button" aria-label="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">üè†</button>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const urlParams = new URLSearchParams(window.location.search);
            // ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ 'skuDaily' ‡πÅ‡∏•‡∏∞ 'muDaily' ‡∏ã‡∏∂‡πà‡∏á‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡∏à‡∏≤‡∏Å songs.html
            const targetSku = parseFloat(urlParams.get('skuDaily')) || 0;
            const targetMu = parseFloat(urlParams.get('muDaily')) || 0;

            const targetSkuDisplay = document.getElementById('targetSku');
            const targetMuDisplay = document.getElementById('targetMu');
            const currentSkuInput = document.getElementById('currentSku');
            const currentMuInput = document.getElementById('currentMu');
            const skuProgressBar = document.getElementById('skuProgressBar');
            const muProgressBar = document.getElementById('muProgressBar');
            const clearDataButton = document.getElementById('clearDataButton');

            // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏°‡∏≤
            targetSkuDisplay.textContent = targetSku.toFixed(0);
            targetMuDisplay.textContent = targetMu.toFixed(0);

            // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏≤‡∏Å Local Storage (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
            const savedCurrentSku = localStorage.getItem('dailySku');
            const savedCurrentMu = localStorage.getItem('dailyMu');
            if (savedCurrentSku) {
                currentSkuInput.value = savedCurrentSku;
            }
            if (savedCurrentMu) {
                currentMuInput.value = savedCurrentMu;
            }

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á Progress Bar
            function updateProgress() {
                const currentSku = parseFloat(currentSkuInput.value) || 0;
                const currentMu = parseFloat(currentMuInput.value) || 0;

                // ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏°‡∏≤‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
                const targetSkuNum = targetSku;
                const targetMuNum = targetMu;

                // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï SKU Progress Bar
                let skuPercentage = 0;
                if (targetSkuNum > 0) {
                    skuPercentage = Math.min(100, (currentSku / targetSkuNum) * 100);
                }
                skuProgressBar.style.width = skuPercentage + '%';
                skuProgressBar.textContent = skuPercentage.toFixed(0) + '%';
                skuProgressBar.style.backgroundColor = getProgressBarColor(skuPercentage);

                // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï MU Progress Bar
                let muPercentage = 0;
                if (targetMuNum > 0) {
                    muPercentage = Math.min(100, (currentMu / targetMuNum) * 100);
                }
                muProgressBar.style.width = muPercentage + '%';
                muProgressBar.textContent = muPercentage.toFixed(0) + '%';
                muProgressBar.style.backgroundColor = getProgressBarColor(muPercentage);

                // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å‡∏•‡∏á Local Storage ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
                localStorage.setItem('dailySku', currentSku);
                localStorage.setItem('dailyMu', currentMu);
            }

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏Ç‡∏≠‡∏á Progress Bar ‡∏ï‡∏≤‡∏°‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå
            function getProgressBarColor(percentage) {
                if (percentage >= 100) {
                    return '#28a745'; // ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏° (‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ö‡∏£‡∏£‡∏•‡∏∏)
                } else if (percentage >= 75) {
                    return '#ffc107'; // ‡∏™‡πâ‡∏° (‡πÉ‡∏Å‡∏•‡πâ‡∏ö‡∏£‡∏£‡∏•‡∏∏‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢)
                } else {
                    return '#007bff'; // ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô)
                }
            }

            // ‡πÄ‡∏û‡∏¥‡πà‡∏° Event Listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å
            currentSkuInput.addEventListener('input', updateProgress);
            currentMuInput.addEventListener('input', updateProgress);

            // Event Listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            clearDataButton.addEventListener('click', () => {
                currentSkuInput.value = 0;
                currentMuInput.value = 0;
                localStorage.removeItem('dailySku');
                localStorage.removeItem('dailyMu');
                updateProgress(); // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            });

            // Event Listener ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏ö‡πâ‡∏≤‡∏ô (‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å)
            document.getElementById("homeButton").addEventListener("click", () => {
                window.location.href = "index.html";
            });

            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô updateProgress ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
            updateProgress();
        });
    </script>
</body>
</html>
